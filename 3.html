<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¶ˆé™¤é£¢é¤“å¤§ä½œæˆ° - ç¬¬ä¸‰é—œï¼šç‡Ÿé¤ŠçŸ¥è­˜å•ç­”</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            background-image: url('https://images.unsplash.com/photo-1498837167922-ddd27525d352?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-attachment: fixed;
            color: #333;
            min-height: 100vh;
        }
        
        #game-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            color: #e67e22;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.2em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        #quiz-area {
            background-color: rgba(255, 255, 255, 0.8);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        #question {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
            line-height: 1.5;
        }
        
        .option {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }
        
        .option:hover {
            background-color: #2980b9;
            transform: translateX(5px);
        }
        
        #score-display {
            font-size: 1.2em;
            font-weight: bold;
            color: #27ae60;
            margin: 20px 0;
            text-align: center;
        }
        
        #progress-bar {
            height: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        #progress {
            height: 100%;
            background-color: #e67e22;
            width: 0%;
            transition: width 0.5s;
        }
        
        #controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        button {
            padding: 10px 20px;
            font-size: 1em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        #next-btn {
            background-color: #2ecc71;
            color: white;
        }
        
        #next-btn:hover {
            background-color: #27ae60;
        }
        
        #restart-btn {
            background-color: #e74c3c;
            color: white;
        }
        
        #restart-btn:hover {
            background-color: #c0392b;
        }
        
        #music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(255,255,255,0.8);
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 100;
            font-size: 1.5em;
        }
        
        .correct {
            background-color: #2ecc71 !important;
        }
        
        .incorrect {
            background-color: #e74c3c !important;
        }
        
        #fact-display {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-left: 5px solid #3498db;
            display: none;
        }
        
        #level-complete {
            display: none;
            text-align: center;
            padding: 30px;
            background-color: rgba(255,255,255,0.9);
            border-radius: 10px;
            margin-top: 20px;
        }
        
        #level-complete h2 {
            color: #27ae60;
        }

        /* æ–°å¢çš„ä¸‹ä¸€é—œæŒ‰éˆ•æ¨£å¼ */
        #next-level-btn {
            background-color: #3498db;
            color: white;
            margin-top: 20px;
            padding: 12px 25px;
            font-size: 1.1em;
        }

        #next-level-btn:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>ç¬¬ä¸‰é—œï¼šç‡Ÿé¤ŠçŸ¥è­˜å•ç­”</h1>
        
        <div id="progress-bar">
            <div id="progress"></div>
        </div>
        
        <div id="score-display">åˆ†æ•¸: 0 | å•é¡Œ: 1/10</div>
        
        <div id="quiz-area">
            <div id="question"></div>
            <div id="options"></div>
            <div id="fact-display"></div>
        </div>
        
        <div id="controls">
            <button id="restart-btn">é‡æ–°é–‹å§‹</button>
            <button id="next-btn" disabled>ä¸‹ä¸€é¡Œ</button>
        </div>
        
        <div id="level-complete">
            <h2>é—œå¡å®Œæˆï¼</h2>
            <p>æ­å–œä½ å®Œæˆç‡Ÿé¤ŠçŸ¥è­˜å•ç­”ï¼</p>
            <p>ä½ çš„æœ€çµ‚åˆ†æ•¸æ˜¯: <span id="final-score">0</span>/100</p>
            <a href="4.html"><button id="next-level-btn">å‰å¾€ç¬¬4é—œ</button></a>
        </div>
    </div>

    <div id="music-control">ğŸ”Š</div>

    <audio id="bg-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="correct-sound">
        <source src="https://www.soundjay.com/buttons/sounds/button-21.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="wrong-sound">
        <source src="https://www.soundjay.com/buttons/sounds/button-10.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="complete-sound">
        <source src="https://www.soundjay.com/buttons/sounds/button-20.mp3" type="audio/mpeg">
    </audio>

    <script>
        // éŠæˆ²æ•¸æ“š
        const questions = [
            {
                question: "ä»€éº¼æ˜¯ã€Œéš±æ€§é£¢é¤“ã€ï¼Ÿ",
                options: [
                    "å¾®é‡ç‡Ÿé¤Šç´ ç¼ºä¹",
                    "å®Œå…¨æ²’æœ‰é£Ÿç‰©æ”å–",
                    "åƒå¾—å¤ªå¿«",
                    "åªåœ¨å¤œé–“æ„Ÿåˆ°é£¢é¤“"
                ],
                answer: 0,
                fact: "éš±æ€§é£¢é¤“æŒ‡ç¼ºä¹ç¶­ç”Ÿç´ å’Œç¤¦ç‰©è³ªç­‰å¾®é‡ç‡Ÿé¤Šç´ ï¼Œå³ä½¿æ”å…¥è¶³å¤ ç†±é‡ä¹Ÿæœƒå½±éŸ¿å¥åº·ã€‚å…¨çƒç´„20å„„äººå—å½±éŸ¿ã€‚"
            },
            {
                question: "ä»¥ä¸‹å“ªç¨®é£Ÿç‰©çµ„åˆèƒ½æä¾›å®Œæ•´è›‹ç™½è³ªï¼Ÿ",
                options: [
                    "ç±³é£¯ + è±†é¡",
                    "åªæœ‰ç±³é£¯",
                    "åªæœ‰è”¬èœ",
                    "æ°´æœ + å …æœ"
                ],
                answer: 0,
                fact: "ç±³é£¯å’Œè±†é¡çµ„åˆèƒ½æä¾›æ‰€æœ‰å¿…éœ€æ°¨åŸºé…¸ï¼Œå½¢æˆå®Œæ•´è›‹ç™½è³ªï¼Œå°ç´ é£Ÿè€…ç‰¹åˆ¥é‡è¦ã€‚"
            },
            {
                question: "å“ªç¨®ç¶­ç”Ÿç´ ç¼ºä¹æœƒå°è‡´å¤œç›²ç—‡ï¼Ÿ",
                options: [
                    "ç¶­ç”Ÿç´ A",
                    "ç¶­ç”Ÿç´ C",
                    "ç¶­ç”Ÿç´ D",
                    "ç¶­ç”Ÿç´ B12"
                ],
                answer: 0,
                fact: "ç¶­ç”Ÿç´ Aç¼ºä¹æ˜¯å…¨çƒå…’ç«¥å¯é é˜²å¤±æ˜çš„ä¸»å› ï¼Œä¹Ÿå­˜åœ¨æ–¼è¨±å¤šæ©™è‰²è”¬æœä¸­ã€‚"
            },
            {
                question: "ä»€éº¼æ˜¯ã€Œé£Ÿç‰©å®‰å…¨ã€æœ€é‡è¦çš„è¦ç´ ï¼Ÿ",
                options: [
                    "é£Ÿç‰©ç„¡å®³ä¸”ç‡Ÿé¤Šå……è¶³",
                    "é£Ÿç‰©åƒ¹æ ¼ä¾¿å®œ",
                    "é£Ÿç‰©å¤–è§€æ¼‚äº®",
                    "é£Ÿç‰©ç”¢é‡é«˜"
                ],
                answer: 0,
                fact: "é£Ÿç‰©å®‰å…¨åŒ…æ‹¬é£Ÿå“å®‰å…¨ã€ç‡Ÿé¤Šå®‰å…¨å’Œç³§é£Ÿå®‰å…¨ä¸‰å€‹å±¤é¢ï¼Œç¼ºä¸€ä¸å¯ã€‚"
            },
            {
                question: "å“ªç¨®ç¤¦ç‰©è³ªç¼ºä¹æœƒå°è‡´è²§è¡€ï¼Ÿ",
                options: [
                    "éµ",
                    "éˆ£",
                    "é‹…",
                    "é‚"
                ],
                answer: 0,
                fact: "å…¨çƒç´„25%äººå£æœ‰è²§è¡€å•é¡Œï¼Œå…¶ä¸­ä¸€åŠç”±ç¼ºéµå¼•èµ·ï¼Œå½±éŸ¿å…’ç«¥ç™¼è‚²å’Œæˆäººå·¥ä½œæ•ˆç‡ã€‚"
            },
            {
                question: "å¼·åŒ–é£Ÿå“çš„ä¸»è¦ç›®çš„æ˜¯ä»€éº¼ï¼Ÿ",
                options: [
                    "è£œå……ç‰¹å®šç‡Ÿé¤Šç´ ",
                    "å»¶é•·ä¿å­˜æœŸé™",
                    "æ”¹å–„å£æ„Ÿ",
                    "é™ä½æˆæœ¬"
                ],
                answer: 0,
                fact: "å¦‚åŠ ç¢˜é¹½ã€å¼·åŒ–éºµç²‰ç­‰ï¼Œæ˜¯è§£æ±ºå¾®é‡ç‡Ÿé¤Šç´ ç¼ºä¹çš„ç¶“æ¿Ÿæœ‰æ•ˆæ–¹æ³•ã€‚"
            },
            {
                question: "å“ªå€‹å¹´é½¡å±¤ç‡Ÿé¤Šä¸è‰¯å½±éŸ¿æœ€åš´é‡ï¼Ÿ",
                options: [
                    "6-24å€‹æœˆå¬°å¹¼å…’",
                    "å­¸é½¡å…’ç«¥",
                    "é’å°‘å¹´",
                    "è€å¹´äºº"
                ],
                answer: 0,
                fact: "ç”Ÿå‘½æœ€åˆ1000å¤©ï¼ˆå¾æ‡·å­•åˆ°2æ­²ï¼‰æ˜¯ç‡Ÿé¤Šå¹²é æœ€é—œéµçš„çª—å£æœŸã€‚"
            },
            {
                question: "ä»€éº¼æ˜¯ã€Œç‡Ÿé¤Šæ•æ„Ÿå‹è¾²æ¥­ã€ï¼Ÿ",
                options: [
                    "ç”Ÿç”¢ç‡Ÿé¤Šè±å¯Œé£Ÿç‰©çš„è¾²æ¥­ç³»çµ±",
                    "ä½¿ç”¨åŒ–å­¸è‚¥æ–™çš„è¾²æ¥­",
                    "å¤§è¦æ¨¡å–®ä¸€ä½œç‰©ç¨®æ¤",
                    "æœ‰æ©Ÿèªè­‰è¾²æ¥­"
                ],
                answer: 0,
                fact: "é€™ç¨®è¾²æ¥­æ¨¡å¼ä¸åƒ…è¿½æ±‚ç”¢é‡ï¼Œæ›´æ³¨é‡ç”Ÿç”¢å¤šæ¨£åŒ–ã€ç‡Ÿé¤Šå¯†é›†çš„é£Ÿç‰©ã€‚"
            },
            {
                question: "å…¨çƒç³§é£Ÿç³»çµ±æµªè²»ç´„å¤šå°‘æ¯”ä¾‹çš„é£Ÿç‰©ï¼Ÿ",
                options: [
                    "ä¸‰åˆ†ä¹‹ä¸€",
                    "ååˆ†ä¹‹ä¸€",
                    "ä¸€åŠ",
                    "äº”åˆ†ä¹‹ä¸€"
                ],
                answer: 0,
                fact: "æ¯å¹´ç´„13å„„å™¸é£Ÿç‰©è¢«æµªè²»ï¼ŒåŒæ™‚å…¨çƒ8.2å„„äººæŒ¨é¤“ï¼Œæ¸›å°‘æµªè²»æ˜¯è§£æ±ºé£¢é¤“çš„é‡è¦é€”å¾‘ã€‚"
            },
            {
                question: "å“ªç¨®é£²é£Ÿæ¨¡å¼æœ€ç¬¦åˆæ°¸çºŒç™¼å±•ç›®æ¨™ï¼Ÿ",
                options: [
                    "å¤šæ¨£åŒ–æ¤ç‰©æ€§é£²é£Ÿ",
                    "é«˜è‚‰é¡é£²é£Ÿ",
                    "åŠ å·¥é£Ÿå“ç‚ºä¸»",
                    "å–®ä¸€ä½œç‰©é£²é£Ÿ"
                ],
                answer: 0,
                fact: "æ¤ç‰©æ€§é£²é£Ÿå°ç’°å¢ƒè² è·è¼ƒå°ï¼ŒåŒæ™‚å¤šæ¨£åŒ–èƒ½ç¢ºä¿å„ç¨®ç‡Ÿé¤Šç´ æ”å–ã€‚"
            }
        ];

        // éŠæˆ²è®Šæ•¸
        let currentQuestion = 0;
        let score = 0;
        let bgMusic = document.getElementById('bg-music');
        let isMusicPlaying = false;
        let shuffledQuestions = [];

        // åˆå§‹åŒ–éŠæˆ²
        function initGame() {
            // æ´—ç‰Œå•é¡Œ
            shuffledQuestions = shuffleArray([...questions]);
            currentQuestion = 0;
            score = 0;
            
            // é‡ç½®UI
            document.getElementById('next-btn').disabled = true;
            document.getElementById('level-complete').style.display = 'none';
            document.getElementById('fact-display').style.display = 'none';
            document.getElementById('quiz-area').style.display = 'block';
            document.getElementById('controls').style.display = 'flex';
            
            // è¼‰å…¥å•é¡Œ
            loadQuestion();
            updateScore();
            
            // è¨­ç½®éŸ³æ¨‚æ§åˆ¶
            setupMusic();
        }
        
        // è¨­ç½®éŸ³æ¨‚
        function setupMusic() {
            // å˜—è©¦è‡ªå‹•æ’­æ”¾éŸ³æ¨‚ï¼ˆéœ€è¦ç”¨æˆ¶äº’å‹•å¾Œï¼‰
            document.body.addEventListener('click', function() {
                if (!isMusicPlaying) {
                    bgMusic.volume = 0.3;
                    bgMusic.play().then(() => {
                        isMusicPlaying = true;
                        document.getElementById('music-control').textContent = 'ğŸ”Š';
                    }).catch(e => {
                        console.log("è‡ªå‹•æ’­æ”¾è¢«é˜»æ­¢ï¼Œéœ€è¦ç”¨æˆ¶äº’å‹•");
                    });
                }
            }, { once: true });
            
            // éŸ³æ¨‚æ§åˆ¶æŒ‰éˆ•
            document.getElementById('music-control').addEventListener('click', function() {
                if (isMusicPlaying) {
                    bgMusic.pause();
                    this.textContent = 'ğŸ”‡';
                } else {
                    bgMusic.play();
                    this.textContent = 'ğŸ”Š';
                }
                isMusicPlaying = !isMusicPlaying;
            });
        }
        
        // è¼‰å…¥å•é¡Œ
        function loadQuestion() {
            const questionObj = shuffledQuestions[currentQuestion];
            document.getElementById('question').textContent = questionObj.question;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            questionObj.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option';
                button.textContent = option;
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                optionsContainer.appendChild(button);
            });
            
            // æ›´æ–°é€²åº¦æ¢
            const progress = ((currentQuestion) / questions.length) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }
        
        // é¸æ“‡ç­”æ¡ˆ
        function selectAnswer(e) {
            const selectedButton = e.target;
            const correctIndex = shuffledQuestions[currentQuestion].answer;
            const selectedIndex = parseInt(selectedButton.dataset.index);
            
            // ç¦ç”¨æ‰€æœ‰é¸é …
            document.querySelectorAll('.option').forEach(button => {
                button.disabled = true;
                if (parseInt(button.dataset.index) === correctIndex) {
                    button.classList.add('correct');
                }
            });
            
            // æª¢æŸ¥ç­”æ¡ˆ
            if (selectedIndex === correctIndex) {
                selectedButton.classList.add('correct');
                score += 10;
                document.getElementById('correct-sound').play();
            } else {
                selectedButton.classList.add('incorrect');
                document.getElementById('wrong-sound').play();
            }
            
            // é¡¯ç¤ºçŸ¥è­˜é»
            const factDisplay = document.getElementById('fact-display');
            factDisplay.textContent = shuffledQuestions[currentQuestion].fact;
            factDisplay.style.display = 'block';
            
            // å•Ÿç”¨ä¸‹ä¸€é¡ŒæŒ‰éˆ•
            document.getElementById('next-btn').disabled = false;
            
            updateScore();
        }
        
        // ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < shuffledQuestions.length) {
                document.getElementById('next-btn').disabled = true;
                document.getElementById('fact-display').style.display = 'none';
                loadQuestion();
            } else {
                completeLevel();
            }
        }
        
        // å®Œæˆé—œå¡
        function completeLevel() {
            document.getElementById('final-score').textContent = score;
            document.getElementById('quiz-area').style.display = 'none';
            document.getElementById('controls').style.display = 'none';
            document.getElementById('level-complete').style.display = 'block';
            document.getElementById('complete-sound').play();
            
            // æ›´æ–°é€²åº¦æ¢
            document.getElementById('progress').style.width = '100%';
        }
        
        // æ›´æ–°åˆ†æ•¸
        function updateScore() {
            document.getElementById('score-display').textContent = `åˆ†æ•¸: ${score} | å•é¡Œ: ${currentQuestion + 1}/${questions.length}`;
        }
        
        // æ´—ç‰Œé™£åˆ—
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // äº‹ä»¶ç›£è½å™¨
        document.getElementById('next-btn').addEventListener('click', nextQuestion);
        document.getElementById('restart-btn').addEventListener('click', initGame);
        
        // åˆå§‹åŒ–éŠæˆ²
        initGame();
    </script>
</body>
</html>